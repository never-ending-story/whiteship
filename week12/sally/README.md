### 애노테이션

`@`로 시작하는 타입

소스코드에 없는 메타데이터를 가진다

애노테이션 있으면

1. 컴파일러에 에러나 경고를 알려줄 수 있다
2. 소스코드를 컴파일타임에 조종?가능
3. 런타임에 동작을 수정하거나 예측할 수 있음

주석처럼 프로그래밍 언어에 영향을 미치지 않으며 유용한 정보를 제공한다. 소스코드에 대한 설명 등

원래는 이 정보를 따로 xml 등의 파일로 관리했는데 따로 문서를 관리하려다보니 문서의 버전이 뒤처지는 경우가 허다해서 먼저 주석을 이용해서 정보를 저장하고 주석으로부터 문서를 생성해 사용했다.

- 표준 애노테이션: 자바에서 제공하는 애노테이션

  | Annotation           | Description                                                  |
  | -------------------- | ------------------------------------------------------------ |
  | @Override            | 메서드가 정확하게 오버라이드 되었는지 확인                   |
  | @Deprecated          | 사용이 권고되지 않는 대상, 버전이 올라가면서 더 이상 사용하지 않지만 버전 변경 이전의 코드를 위해 삭제하지 않고 남겨놓고 이 애노테이션을 사용한다. |
  | @FunctionalInterface | 함수형 인터페이스로 올바르게 쓰여졌는지 확인, 함수형 인터페이스는 하나의 메소드만 존재해야 한다. |
  | @SuppressWarnings    | 컴파일러가 알려주는 경고를 무시한다                          |
  | @SafeVarargs         | 제네릭 타입의 가변인자에 사용                                |
  | @Native              | Native 메서드에서 참조되는 상수에 사용                       |

  

  - 메타 애노테이션: 표준 애노테이션 중 애노테이션을 만들 때 사용하는 애노테이션

    `@Target`: 어노테이션마다 메소드에 쓰일 지, 생성자에 쓰일 지 등 어노테이션이 쓰이는 대상에 대한 정보를 가진다. `ANNOTATION_TYPE`, `CONSTRUCTOR`, `FIELD`, `LOCAL_VARIABLE`, `METHOD`, `PACKAGE`, `TYPE`, `TYPE_PARAMETER`, `TYPE_USE`가 올 수 있다.

    ```
    @Annotation					// TYPE
    class Class {
    	
    	@Annotation				// FIELD
    	String name;
    	
    	@Annotation				// TYPE_USE
    	Class class;
    }
    ```

    

    `@Retention`: 애노테이션이 유지되는 기간을 지장할 때 사용한다. <u>클래스파일에 존재하지만 실행시에는 사용할 수 없는 디폴트 값인 `CLASS`</u>가 있고 <u>소스 파일에만 유지되고 클래스 파일에는 남아있지 않게 하는 `SOURCE`</u>(컴파일러가 체크하고 실행시에는 딱히 필요없음, 대표적인 예시로는 `@Override`), <u>실행때까지 사용 가능하며 실행 시 리플렉션을 통해 애노테이션을 읽어드리는 `RUNTIME`</u> 이 있다.

    `@Documented`: javadoc에 포함시키기 위해 사용하는 애노테이션

### 애노테이션 정의하는 방법

```java
@interface Annotation {
	String name();
 // 요소
}
```

위와 같이 정의하며 내부 요소는 추상메서드의 형태로 작성한다. 요소는 enum 타입까지 커버 가능하고 default 키워드가 붙으면 애노테이션 적용 시 따로 명시해주지 않아도 디폴트값이 지정된다.

### 애노테이션 프로세서

어노테이션 프로세서는 컴파일 타임에 어노테이션을 분석하고 해당 어노테이션 붙은 곳을 찾아내 분석을 바탕으로 클래스를 만들어 낸다. 어노테이션이 단순한 주석 이상의 역할을 수행할 수 있게 만들어주는 것이다.

대표적으로 롬복이 있다. 롬복에서는 `@Getter`, `@Setter`, `@NoArgsConstructor` 등 클래스에 실질적으로 추가해주지 않아도 어노테이션만으로 메서드를 추가할 수 있다. 이들은 컴파일 타임이 아닌 런타임에 만들어진다.